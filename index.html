<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Smart City Analytics - Main Functions</title>

  <!-- CSS -->
  <link rel="stylesheet" href="styles/main.css" />
  <link rel="stylesheet" href="styles/components.css" />

  <!-- Chart.js -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
</head>
<body>
  <!-- Header -->
  <header class="header">
    <nav class="navbar">
      <div class="nav-brand">
        <div class="logo">
          <span class="logo-icon">🅿️</span>
          <span class="logo-text">SmartPark</span>
          <span class="logo-subtitle">Live CBD Parking</span>
        </div>
      </div>
      
      <!-- Top Tab Navigation -->
      <div class="top-nav-tabs">
        <a href="#" class="top-tab active" data-tab="parking">
          <span class="tab-icon">🔍</span>
          Live Parking
        </a>
        <a href="#" class="top-tab" data-tab="analytics">
          <span class="tab-icon">📊</span>
          Crowd Analysis
        </a>
        <a href="#" class="top-tab" data-tab="about">
          <span class="tab-icon">ℹ️</span>
          About
        </a>
      </div>
      
      <div class="nav-actions">
        <button class="live-data-btn">
          <span class="live-indicator"></span>
          Live Data
        </button>
      </div>
    </nav>
  </header>

<!-- Main Content -->
<main class="main-container">
  <div class="content-wrapper">
    <!-- Parking Search -->
    <div class="function-panel active" id="parking-panel">
      <!-- Hero Section - Full Width -->
      <div class="hero-section-fullwidth">
        <div class="hero-content">
          <h1 class="hero-title">Find Parking in <span class="text-gradient">Melbourne CBD</span></h1>
          <p class="hero-description">Real-time parking availability across Melbourne's Central Business District. Never circle the block again.</p>
          
          <div class="search-container">
            <div class="search-input-wrapper">
              <input
                type="text"
                id="location-input"
                placeholder="Enter street name (e.g., Collins Street, Bourke Street)"
                class="hero-search-input"
              />
              <button type="button" id="find-parking-btn" class="hero-search-btn">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <circle cx="11" cy="11" r="8"></circle>
                  <path d="m21 21-4.35-4.35"></path>
                </svg>
                Search
              </button>
            </div>
          </div>
        </div>
      </div>

      <!-- Features Section with Images -->
      <div class="features-section">
        <div class="container">
          <div class="features-grid">
            <div class="feature-card">
              <div class="feature-image">
                <img src="carpark.jpg" alt="Smart Search Feature" class="feature-img">
              </div>
              <div class="feature-content">
                <h3 class="feature-title">Smart Search</h3>
                <p class="feature-description">Type any Melbourne CBD street name and get instant results</p>
              </div>
            </div>

            <div class="feature-card">
              <div class="feature-image">
                <img src="liveupdate.jpg" alt="Live Updates Feature" class="feature-img">
              </div>
              <div class="feature-content">
                <h3 class="feature-title">Live Updates</h3>
                <p class="feature-description">Real-time parking status updated every few minutes</p>
              </div>
            </div>

            <div class="feature-card">
              <div class="feature-image">
                <img src="navigate.jpg" alt="Interactive Map Feature" class="feature-img">
              </div>
              <div class="feature-content">
                <h3 class="feature-title">Interactive Map</h3>
                <p class="feature-description">Visual map showing exact locations of available spots</p>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Original Content Container -->
      <div class="container">
        <!-- Loading State -->
        <div class="loading-state hidden" id="loading">
          <div class="spinner"></div>
          <p>Searching for available parking spaces...</p>
        </div>

        <!-- Results Section -->
        <div class="results-section hidden" id="results-section">
          <h3>Available Parking Spaces</h3>
          <div class="parking-list" id="parking-list"></div>
        </div>

        <!-- No Results -->
        <div class="no-results hidden" id="no-results">
          <div class="no-results-icon">🚫</div>
          <h3>No Available Parking Found</h3>
          <p>Sorry, no parking spaces are currently available in your search area.</p>
        </div>
      </div>
    </div>

    <!-- Population Analytics  -->
    <div class="function-panel" id="analytics-panel">
      <div class="container">
        <div class="analytics-section">
          <div class="analytics-header">
            <div class="header-content">
              <div class="header-icon">🚗</div>
              <div class="header-text">
                <h2>Population → Parking Outlook</h2>
                <p>Population growth is a long-term parking demand signal. Higher growth = tighter curb space when supply is unchanged.</p>
              </div>
            </div>
          </div>

          <!-- Filter Controls -->
          <div class="filter-controls">
            <div class="filter-group">
              <label for="from-year">From Year</label>
              <select id="from-year" class="filter-select">
                <option value="2011">2011</option>
                <option value="2012">2012</option>
                <option value="2013">2013</option>
                <option value="2014">2014</option>
                <option value="2015">2015</option>
                <option value="2016" selected>2016</option>
                <option value="2017">2017</option>
                <option value="2018">2018</option>
                <option value="2019">2019</option>
                <option value="2020">2020</option>
                <option value="2021">2021</option>
              </select>
            </div>
            <div class="filter-group">
              <label for="to-year">To Year</label>
              <select id="to-year" class="filter-select">
                <option value="2011">2011</option>
                <option value="2012">2012</option>
                <option value="2013">2013</option>
                <option value="2014">2014</option>
                <option value="2015">2015</option>
                <option value="2016">2016</option>
                <option value="2017">2017</option>
                <option value="2018">2018</option>
                <option value="2019" selected>2019</option>
                <option value="2020">2020</option>
                <option value="2021">2021</option>
              </select>
            </div>
            
            <!-- Region Filter -->
            <div class="filter-group">
              <label>Regions</label>
              <div class="region-checkboxes">
                <label class="checkbox-label">
                  <input type="checkbox" value="CBD - East" checked> CBD - East
                </label>
                <label class="checkbox-label">
                  <input type="checkbox" value="CBD - North" checked> CBD - North
                </label>
                <label class="checkbox-label">
                  <input type="checkbox" value="CBD - West" checked> CBD - West
                </label>
              </div>
            </div>
            
            <button type="button" id="apply-filters-btn" class="apply-btn">Apply Filters</button>
            <button type="button" id="reset-filters-btn" class="reset-btn">Reset Filters</button>
          </div>

          <!-- Insight Header -->
          <div class="insight-header">
            <h3 id="insight-text">2016–2019, West grew the fastest (~31%), likely increasing parking pressure there. East grew the least (~8%), usually the safer bet for on-street parking.</h3>
          </div>

          <!-- KPI Cards -->
          <div class="kpi-cards">
            <div class="kpi-card growth-leader">
              <div class="kpi-icon">🏆</div>
              <div class="kpi-content">
                <div class="kpi-label">Growth Leader</div>
                <div class="kpi-value" id="growth-leader-text">West • +31%</div>
                <div class="kpi-description">Expect higher parking pressure vs. others.</div>
              </div>
            </div>
            <div class="kpi-card safer-bet">
              <div class="kpi-icon">✅</div>
              <div class="kpi-content">
                <div class="kpi-label">Safer Bet</div>
                <div class="kpi-value" id="safer-bet-text">East • +8%</div>
                <div class="kpi-description">Usually easier to find a spot.</div>
              </div>
            </div>
          </div>

          <!-- Parking Outlook -->
          <div class="parking-outlook">
            <h3>Parking Outlook – Ranked by Growth</h3>
            <div class="outlook-list" id="outlook-list">
              <!-- Dynamically populated -->
            </div>
            <div class="tip-bar">
              💡 Population growth is a long-term demand signal. If supply is flat, faster growth = tighter curb space.
            </div>
          </div>

          <!-- Collapsible Charts Section -->
          <div class="charts-toggle">
            <button type="button" id="charts-toggle-btn" class="charts-toggle-btn">
              <span>Show trend details</span>
              <span class="toggle-icon">▼</span>
            </button>
          </div>

          <div class="charts-container collapsed" id="charts-container">
            <div class="chart-section">
              <h3>Population Trend by Area</h3>
              <p>Population distribution over time</p>
              <div class="chart-wrapper">
                <canvas id="population-bar-chart"></canvas>
              </div>
            </div>
          </div>

        </div>
      </div>
    </div>

    <!-- About  -->
    <div class="function-panel" id="about-panel">
      <div class="container">
        <div class="about-section">
          <h2>About Smart City Analytics</h2>
          <p>
            Smart City Analytics is a project designed to provide real-time parking data
            and population analytics for Melbourne. Our goal is to improve urban mobility
            and support better decision-making for residents, visitors, and city planners.
          </p>
          <p>
            Data is collected from multiple open sources, processed and visualized in a
            user-friendly interface to make urban information accessible for everyone.
          </p>
        </div>
      </div>
    </div>
  </div> <!-- /content-wrapper -->
</main>

  <!-- About (for #about anchor) -->
  <section id="about" class="footer">
    <div class="container">
      <div class="footer-content">
        <div class="footer-brand">
          <span class="logo-icon">🅿️</span>
          <span class="logo-text">Smart City Analytics</span>
        </div>
        <p>&copy; 2025 Smart City Analytics. All rights reserved.</p>
      </div>
    </div>
  </section>

  <!-- Scripts -->
  <script src="js/main.js"></script>
  <script src="js/parking-search.js"></script>
  <script src="js/population-analytics.js"></script>
</body>
</html>
